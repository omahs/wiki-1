"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[3164],{5162:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(7294),r=a(6010);const l="tabItem_Ymn6";function o(e){let{children:t,hidden:a,className:o}=e;return n.createElement("div",{role:"tabpanel",className:(0,r.Z)(l,o),hidden:a},t)}},4866:(e,t,a)=>{a.d(t,{Z:()=>w});var n=a(7462),r=a(7294),l=a(6010),o=a(6775),i=a(1980),s=a(7392),u=a(12);function p(e){return function(e){return r.Children.map(e,(e=>{if((0,r.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))}(e).map((e=>{let{props:{value:t,label:a,attributes:n,default:r}}=e;return{value:t,label:a,attributes:n,default:r}}))}function d(e){const{values:t,children:a}=e;return(0,r.useMemo)((()=>{const e=t??p(a);return function(e){const t=(0,s.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,a])}function c(e){let{value:t,tabValues:a}=e;return a.some((e=>e.value===t))}function m(e){let{queryString:t=!1,groupId:a}=e;const n=(0,o.k6)(),l=function(e){let{queryString:t=!1,groupId:a}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:t,groupId:a});return[(0,i._X)(l),(0,r.useCallback)((e=>{if(!l)return;const t=new URLSearchParams(n.location.search);t.set(l,e),n.replace({...n.location,search:t.toString()})}),[l,n])]}function g(e){const{defaultValue:t,queryString:a=!1,groupId:n}=e,l=d(e),[o,i]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!c({value:t,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=a.find((e=>e.default))??a[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:l}))),[s,p]=m({queryString:a,groupId:n}),[g,h]=function(e){let{groupId:t}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(t),[n,l]=(0,u.Nk)(a);return[n,(0,r.useCallback)((e=>{a&&l.set(e)}),[a,l])]}({groupId:n}),k=(()=>{const e=s??g;return c({value:e,tabValues:l})?e:null})();(0,r.useLayoutEffect)((()=>{k&&i(k)}),[k]);return{selectedValue:o,selectValue:(0,r.useCallback)((e=>{if(!c({value:e,tabValues:l}))throw new Error(`Can't select invalid tab value=${e}`);i(e),p(e),h(e)}),[p,h,l]),tabValues:l}}var h=a(2466),k=a(2389);const b="tabList__CuJ",y="tabItem_LNqP";function f(e){let{className:t,block:a,selectedValue:o,selectValue:i,tabValues:s}=e;const u=[],{blockElementScrollPositionUntilNextRender:p}=(0,h.o5)(),d=e=>{const t=e.currentTarget,a=u.indexOf(t),n=s[a].value;n!==o&&(p(t),i(n))},c=e=>{var t;let a=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const t=u.indexOf(e.currentTarget)+1;a=u[t]??u[0];break}case"ArrowLeft":{const t=u.indexOf(e.currentTarget)-1;a=u[t]??u[u.length-1];break}}null==(t=a)||t.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":a},t)},s.map((e=>{let{value:t,label:a,attributes:i}=e;return r.createElement("li",(0,n.Z)({role:"tab",tabIndex:o===t?0:-1,"aria-selected":o===t,key:t,ref:e=>u.push(e),onKeyDown:c,onClick:d},i,{className:(0,l.Z)("tabs__item",y,null==i?void 0:i.className,{"tabs__item--active":o===t})}),a??t)})))}function N(e){let{lazy:t,children:a,selectedValue:n}=e;if(a=Array.isArray(a)?a:[a],t){const e=a.find((e=>e.props.value===n));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},a.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==n}))))}function v(e){const t=g(e);return r.createElement("div",{className:(0,l.Z)("tabs-container",b)},r.createElement(f,(0,n.Z)({},e,t)),r.createElement(N,(0,n.Z)({},e,t)))}function w(e){const t=(0,k.Z)();return r.createElement(v,(0,n.Z)({key:String(t)},e))}},8278:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>m,frontMatter:()=>i,metadata:()=>u,toc:()=>d});var n=a(7462),r=(a(7294),a(3905)),l=a(4866),o=a(5162);a(814);const i={sidebar_label:"Setting Up",sidebar_position:1},s="Setting Up Gear Node",u={unversionedId:"node/setting-up",id:"node/setting-up",title:"Setting Up Gear Node",description:"Introduction",source:"@site/docs/node/setting-up.mdx",sourceDirName:"node",slug:"/node/setting-up",permalink:"/docs/node/setting-up",draft:!1,editUrl:"https://github.com/gear-tech/wiki/edit/master/docs/node/setting-up.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_label:"Setting Up",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Getting Started",permalink:"/docs/getting-started-in-5-minutes"},next:{title:"Node as a Service",permalink:"/docs/node/node-as-service"}},p={},d=[{value:"Introduction",id:"introduction",level:2},{value:"Install with pre-build binary",id:"install-with-pre-build-binary",level:2},{value:"Compile Gear node by yourself",id:"compile-gear-node-by-yourself",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Install Rust:",id:"install-rust",level:3},{value:"Install Wasm Toolchains:",id:"install-wasm-toolchains",level:3},{value:"Clone Gear repo",id:"clone-gear-repo",level:3},{value:"Compile",id:"compile",level:3},{value:"Run Gear Node",id:"run-gear-node",level:2},{value:"Command Flags and Options",id:"command-flags-and-options",level:2},{value:"Special environment variables",id:"special-environment-variables",level:2}],c={toc:d};function m(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"setting-up-gear-node"},"Setting Up Gear Node"),(0,r.kt)("h2",{id:"introduction"},"Introduction"),(0,r.kt)("p",null,"This guide covers the steps required to install and run the Gear node."),(0,r.kt)("p",null,"There are two ways to get started with the Gear node. First, you can download a pre-built binary file and run it, or second, you can compile the binary file and configure it by yourself. Using a ready-made build is a quick and convenient way to get started as you can skip the installation of Rust and all its dependencies and you can also skip the node compiling process. On the other hand, if you decide that you want to go through the process of creating your development node, it may take about twenty minutes or more depending on your hardware."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("h3",{parentName:"admonition",id:"system-requirements"},"System requirements:"),(0,r.kt)("p",{parentName:"admonition"},"Gear node doesn't have any special hardware requirements excepting at least 64 Gbytes of free space on the SSD disk.")),(0,r.kt)("h2",{id:"install-with-pre-build-binary"},"Install with pre-build binary"),(0,r.kt)("p",null,"Depending on your OS you need to download nightly build of Gear node:"),(0,r.kt)(l.Z,{mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"mac-linux",label:"Linux x64",mdxType:"TabItem"},(0,r.kt)("p",null,"Terminal:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"wget https://get.gear.rs/gear-nightly-linux-x86_64.tar.xz && \\\ntar xvf gear-nightly-linux-x86_64.tar.xz && \\\nrm gear-nightly-linux-x86_64.tar.xz\n")),(0,r.kt)("p",null,"or"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Linux x64"),": ",(0,r.kt)("a",{parentName:"p",href:"https://get.gear.rs/gear-nightly-linux-x86_64.tar.xz"},"gear-nightly-linux-x86_64.tar.xz")),(0,r.kt)("p",null,"You can try to run the node:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"\u276f ./gear --version\ngear 0.1.0-hashcode\n"))),(0,r.kt)(o.Z,{value:"mac-arm",label:"MacOS ARM",mdxType:"TabItem"},(0,r.kt)("p",null,"Terminal:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"wget https://get.gear.rs/gear-nightly-macos-m.tar.gz && \\\ntar xvf gear-nightly-macos-m.tar.gz && \\\nrm gear-nightly-macos-m.tar.gz\n")),(0,r.kt)("p",null,"or"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"macOS M1/M2"),": ",(0,r.kt)("a",{parentName:"p",href:"https://get.gear.rs/gear-nightly-macos-m.tar.gz"},"gear-nightly-macos-m.tar.gz")),(0,r.kt)("p",null,"You can try to run the node:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"\u276f ./gear --version\ngear 0.1.0-hashcode\n"))),(0,r.kt)(o.Z,{value:"mac-intel",label:"macOS x64",mdxType:"TabItem"},(0,r.kt)("p",null,"Terminal:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"wget https://get.gear.rs/gear-nightly-macos-x86_64.tar.gz && \\\ntar xvf gear-nightly-macos-x86_64.tar.gz && \\\nrm gear-nightly-macos-x86_64.tar.gz\n")),(0,r.kt)("p",null,"or"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"macOS Intel x64"),": ",(0,r.kt)("a",{parentName:"p",href:"https://get.gear.rs/gear-nightly-macos-x86_64.tar.gz"},"gear-nightly-macos-x86_64.tar.gz")),(0,r.kt)("p",null,"You can try to run the node:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"\u276f ./gear --version\ngear 0.1.0-hashcode\n"))),(0,r.kt)(o.Z,{value:"win64",label:"Windows x64",className:"unique-tabs",default:!0,mdxType:"TabItem"},(0,r.kt)("p",null,"Terminal:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"curl -O https://get.gear.rs/gear-nightly-windows-x86_64.zip\n")),(0,r.kt)("p",null,"or"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Windows x64"),": ",(0,r.kt)("a",{parentName:"p",href:"https://get.gear.rs/gear-nightly-windows-x86_64.zip"},"gear-nightly-windows-x86_64.zip")),(0,r.kt)("p",null,"Unzip the downloaded package then you can try to run the node:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"\u276f gear.exe --version\ngear.exe 0.1.0-hashcode\n")))),(0,r.kt)("h2",{id:"compile-gear-node-by-yourself"},"Compile Gear node by yourself"),(0,r.kt)("p",null,"Compiling the build will take some time and requires the installation of some dependencies."),(0,r.kt)("admonition",{title:"Note",type:"warning"},(0,r.kt)("p",{parentName:"admonition"},"Windows users may encounter some problems related to the installation of Rust components and dependencies.\nIt is highly recommended to use Linux or macOS for compiling Gear node and smart-contracts. ")),(0,r.kt)("h3",{id:"prerequisites"},"Prerequisites"),(0,r.kt)("p",null,"Linux users should generally install ",(0,r.kt)("inlineCode",{parentName:"p"},"GCC")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"Clang"),", according to their distribution\u2019s documentation. Also, one should install ",(0,r.kt)("inlineCode",{parentName:"p"},"binaryen")," toolset that contains required ",(0,r.kt)("inlineCode",{parentName:"p"},"wasm-opt")," tool."),(0,r.kt)("p",null,"For example, on Ubuntu use:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt install -y clang build-essential binaryen cmake protobuf-compiler\n")),(0,r.kt)("p",null,"On macOS, you can get a compiler toolset and ",(0,r.kt)("inlineCode",{parentName:"p"},"binaryen")," by running:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"xcode-select --install\nbrew install binaryen\n")),(0,r.kt)("h3",{id:"install-rust"},"Install Rust:"),(0,r.kt)("p",null,"If you already have Rust installed, you can skip this step."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh\n")),(0,r.kt)("p",null,"And then you should reboot your terminal."),(0,r.kt)("h3",{id:"install-wasm-toolchains"},"Install Wasm Toolchains:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"rustup toolchain add nightly\nrustup target add wasm32-unknown-unknown --toolchain nightly\n")),(0,r.kt)("h3",{id:"clone-gear-repo"},"Clone Gear repo"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"git clone https://github.com/gear-tech/gear.git\ncd gear\ngit checkout stable\n\n## Optional\n## If you need to use the latest or experimental Gear functions, you should compile `gear-node` from `master` branch\n")),(0,r.kt)("h3",{id:"compile"},"Compile"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"cargo build -p gear-cli --release\n")),(0,r.kt)("p",null,"or"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"make node-release\n")),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"You can find the final build at the following location: ",(0,r.kt)("inlineCode",{parentName:"p"},"gear/target/release/gear")),(0,r.kt)("p",{parentName:"admonition"},"Go to:"),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"cd target/release\n"))),(0,r.kt)("h2",{id:"run-gear-node"},"Run Gear Node"),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"It doesn't matter if you downloaded the prebuild binary or built it yourself. Being in the directory where the gear node is installed to run it without special arguments to get a node connected to the testnet:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"./gear\n")),(0,r.kt)("p",null,"To run Gear node in dev mode use the following command:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"./gear --dev --tmp\n")),(0,r.kt)("h2",{id:"command-flags-and-options"},"Command Flags and Options"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-code"},"gear [subcommand] [options]\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"--staging")),(0,r.kt)("p",{parentName:"li"},"Connect the node to Gear testnet (default option).")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"--dev")),(0,r.kt)("p",{parentName:"li"},"Run standalone node of Gear network.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"--tmp")),(0,r.kt)("p",{parentName:"li"},"Run node with a temporary storage. A temporary directory will be created to store the configuration and will be deleted at the end of the process.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"purge-chain")),(0,r.kt)("p",{parentName:"li"},"Remove storage of the selected chain type. Needs to specify the chain connection type ",(0,r.kt)("inlineCode",{parentName:"p"},"--staging")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"--dev"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"help"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"--help")),(0,r.kt)("p",{parentName:"li"},"Print the available subcommands/options or the help of the given subcommand."))),(0,r.kt)("h2",{id:"special-environment-variables"},"Special environment variables"),(0,r.kt)("p",null,"To run Gear node with logs from contracts use:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-code"},'RUST_LOG="gwasm=debug" gear [subcommand] [options]\n')))}m.isMDXComponent=!0}}]);