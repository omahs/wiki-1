"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[6889],{3905:(e,t,r)=>{r.d(t,{Zo:()=>l,kt:()=>g});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=n.createContext({}),p=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},l=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),d=p(r),g=a,u=d["".concat(s,".").concat(g)]||d[g]||m[g]||o;return r?n.createElement(u,i(i({ref:t},l),{},{components:r})):n.createElement(u,i({ref:t},l))}));function g(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=d;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:a,i[1]=c;for(var p=2;p<o;p++)i[p]=r[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},1010:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>m,frontMatter:()=>o,metadata:()=>c,toc:()=>p});var n=r(7462),a=(r(7294),r(3905));const o={sidebar_label:"Create Program",sidebar_position:7},i="Create program from program",c={unversionedId:"developing-contracts/create",id:"developing-contracts/create",title:"Create program from program",description:"Business logic of an arbitrary decentralized application may require the program (smart contract) the possibility of creating, initializing and launching one or several other programs in the network. It can be necessary when external parties (users) need access to their own instance of the typical smart contract.",source:"@site/docs/developing-contracts/create.md",sourceDirName:"developing-contracts",slug:"/developing-contracts/create",permalink:"/docs/developing-contracts/create",draft:!1,editUrl:"https://github.com/gear-tech/wiki/edit/master/docs/developing-contracts/create.md",tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_label:"Create Program",sidebar_position:7},sidebar:"tutorialSidebar",previous:{title:"Asynchronous Programming",permalink:"/docs/developing-contracts/interactions-between-programs"},next:{title:"Gas Reservation",permalink:"/docs/developing-contracts/gas-reservation"}},s={},p=[],l={toc:p};function m(e){let{components:t,...r}=e;return(0,a.kt)("wrapper",(0,n.Z)({},l,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"create-program-from-program"},"Create program from program"),(0,a.kt)("p",null,"Business logic of an arbitrary decentralized application may require the program (smart contract) the possibility of creating, initializing and launching one or several other programs in the network. It can be necessary when external parties (users) need access to their own instance of the typical smart contract."),(0,a.kt)("p",null,"Let\u2019s take for example a contract that implements loan functionality. In this case, the program developer can create a loan factory contract that will create instances of loan smart contracts on demand and operate them."),(0,a.kt)("p",null,"Firstly, to create a program, you have to submit program code to the network using an extrinsic ",(0,a.kt)("inlineCode",{parentName:"p"},"gear.uploadCode")," and get its code hash. Submit program code does not initialize the program."),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"To submit code you can use our GUI at ",(0,a.kt)("a",{parentName:"p",href:"https://idea.gear-tech.io/"},"Gear IDEA")," or just submit it via @gear-js/api library. Also you can use ",(0,a.kt)("inlineCode",{parentName:"p"},"Gear Program")," CLI - ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/gear-tech/gear-program"},"https://github.com/gear-tech/gear-program"))),(0,a.kt)("p",null,"After the code has been submitted, it can be used to create a new program:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-rust"},'use gstd::{prog::ProgramGenerator, CodeHash, msg};\n\n#[no_mangle]\nextern "C" fn handle() {\n    let submitted_code: CodeHash =\n        hex_literal::hex!("abf3746e72a6e8740bd9e12b879fbdd59e052cb390f116454e9116c22021ae4a")\n            .into();\n\n    // ProgramGenerator returs ProgramId\n\n    let program_id =  ProgramGenerator::create_program_with_gas(submitted_code, b"payload", 10_000_000_000, 0).unwrap();\n\n    msg::send(program_id, b"hello", 0).expect("Unable to send message");\n\n}\n')),(0,a.kt)("p",null,"More info about ",(0,a.kt)("inlineCode",{parentName:"p"},"gstd::prog")," module see in ",(0,a.kt)("a",{parentName:"p",href:"https://docs.gear.rs/gstd/prog/index.html"},"https://docs.gear.rs/gstd/prog/index.html")))}m.isMDXComponent=!0}}]);