"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[3967],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>d});var a=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var l=a.createContext({}),c=function(e){var t=a.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},u=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),p=c(r),d=n,g=p["".concat(l,".").concat(d)]||p[d]||m[d]||o;return r?a.createElement(g,s(s({ref:t},u),{},{components:r})):a.createElement(g,s({ref:t},u))}));function d(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=r.length,s=new Array(o);s[0]=p;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:n,s[1]=i;for(var c=2;c<o;c++)s[c]=r[c];return a.createElement.apply(null,s)}return a.createElement.apply(null,r)}p.displayName="MDXCreateElement"},8340:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>m,frontMatter:()=>o,metadata:()=>i,toc:()=>c});var a=r(7462),n=(r(7294),r(3905));const o={sidebar_position:5,sidebar_label:"Gear Network State"},s="State components",i={unversionedId:"gear/technology/state",id:"gear/technology/state",title:"State components",description:"As any blockchain system, Gear maintains distributed state. Runtime code compiled to WebAssembly becomes part of the blockchain\u2019s storage state.",source:"@site/docs/gear/technology/state.md",sourceDirName:"gear/technology",slug:"/gear/technology/state",permalink:"/docs/gear/technology/state",draft:!1,editUrl:"https://github.com/gear-tech/wiki/edit/master/docs/gear/technology/state.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5,sidebar_label:"Gear Network State"},sidebar:"tutorialSidebar",previous:{title:"Persistent Memory",permalink:"/docs/gear/technology/persist-memory"},next:{title:"State Transition",permalink:"/docs/gear/technology/state-transition"}},l={},c=[{value:"Programs",id:"programs",level:3},{value:"Memory",id:"memory",level:3},{value:"Message queue",id:"message-queue",level:3},{value:"Accounts",id:"accounts",level:3}],u={toc:c};function m(e){let{components:t,...r}=e;return(0,n.kt)("wrapper",(0,a.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"state-components"},"State components"),(0,n.kt)("p",null,"As any blockchain system, Gear maintains distributed state. Runtime code compiled to WebAssembly becomes part of the blockchain\u2019s storage state."),(0,n.kt)("p",null,"Gear ensures one of the defining features - ",(0,n.kt)("strong",{parentName:"p"},"forkless runtime upgrades"),". The state is also guaranteed to be finalized if a finality gadget is used."),(0,n.kt)("p",null,"Storage state consists of the following components:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Programs and memory")," (includes program\u2019s code and private memory)"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Message queue")," (global message queue of the network)"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Accounts")," (network accounts and their balances)")),(0,n.kt)("h3",{id:"programs"},"Programs"),(0,n.kt)("p",null,"Programs are first-class citizens in the Gear network state."),(0,n.kt)("p",null,"Program code is stored as an immutable Wasm blob. Each program has a fixed amount of memory which persists between message-handling (so-called static area)."),(0,n.kt)("p",null,"Programs can allocate more memory from the memory pool provided by a Gear instance. A particular program can read and write only within exclusively allocated to its memory."),(0,n.kt)("h3",{id:"memory"},"Memory"),(0,n.kt)("p",null,"Gear instance holds individual memory space per program and guarantees it's persistence. A program can read and write only within its own memory space and has no access to the memory space of other programs. Individual memory space is reserved for a program during its initialization and does not require an additional fee (included in the program initialization fee)."),(0,n.kt)("p",null,"A program can allocate the required amount of memory in blocks of 64KB. Each memory block allocation requires a gas fee. Each page (64KB) is stored separately on the distributed database backend, but at the run time, Gear node constructs continuous runtime memory and allows programs to run on it without reloads."),(0,n.kt)("h3",{id:"message-queue"},"Message queue"),(0,n.kt)("p",null,"Gear instance holds a global message queue. Using Gear node, users can send transactions with one or several messages to a particular program(s). This fills up the message queue. During block construction, messages are dequeued and routed to the particular program."),(0,n.kt)("h3",{id:"accounts"},"Accounts"),(0,n.kt)("p",null,"For a public network, protection against DOS attacks always requires gas/fee for transaction processing. Gear provides a balance module that allows to store user and program balances and pay a transaction fee."),(0,n.kt)("p",null,"In general, a particular Gear network instance can be defined as both permissioned and permissionless, public blockchain. In the permissioned scenario, no balance module is required."))}m.isMDXComponent=!0}}]);