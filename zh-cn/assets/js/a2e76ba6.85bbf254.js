"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[3660],{3905:(e,t,n)=>{n.d(t,{Zo:()=>l,kt:()=>f});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var i=a.createContext({}),p=function(e){var t=a.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},l=function(e){var t=p(e.components);return a.createElement(i.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},b=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),b=p(n),f=r,h=b["".concat(i,".").concat(f)]||b[f]||d[f]||o;return n?a.createElement(h,c(c({ref:t},l),{},{components:n})):a.createElement(h,c({ref:t},l))}));function f(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,c=new Array(o);c[0]=b;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s.mdxType="string"==typeof e?e:r,c[1]=s;for(var p=2;p<o;p++)c[p]=n[p];return a.createElement.apply(null,c)}return a.createElement.apply(null,n)}b.displayName="MDXCreateElement"},6569:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>c,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>p});var a=n(7462),r=(n(7294),n(3905));const o={sidebar_label:"\u591a\u8282\u70b9\u6a21\u5f0f",sidebar_position:5},c="\u521b\u5efa\u4e00\u4e2a\u591a\u8282\u70b9\u672c\u5730\u6d4b\u8bd5\u7f51\u7edc",s={unversionedId:"node/multi-node",id:"node/multi-node",title:"\u521b\u5efa\u4e00\u4e2a\u591a\u8282\u70b9\u672c\u5730\u6d4b\u8bd5\u7f51\u7edc",description:"\u5bf9\u4e8e\u66f4\u9ad8\u7ea7\u7684\u667a\u80fd\u5408\u7ea6\u8c03\u8bd5\u548c\u6d4b\u8bd5\uff0c\u66f4\u63a5\u8fd1\u771f\u5b9e\u7684\u7f51\u7edc\u73af\u5883\uff0c\u4f60\u53ef\u4ee5\u5efa\u7acb\u672c\u5730\u6d4b\u8bd5\u7f51\uff0c\u7531\u51e0\u4e2a\u4e92\u8fde\u7684\u8282\u70b9\u7ec4\u6210\u3002\u8fd9\u79cd\u6a21\u5f0f\u53ef\u4ee5\u770b\u5230\u591a\u8282\u70b9\u5171\u8bc6\u7b97\u6cd5\u7684\u8fd0\u884c\u60c5\u51b5\u3002",source:"@site/i18n/zh-cn/docusaurus-plugin-content-docs/current/node/multi-node.md",sourceDirName:"node",slug:"/node/multi-node",permalink:"/zh-cn/docs/node/multi-node",draft:!1,editUrl:"https://github.com/gear-tech/wiki/edit/master/docs/node/multi-node.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_label:"\u591a\u8282\u70b9\u6a21\u5f0f",sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"\u5f00\u53d1\u7f51\u7edc",permalink:"/zh-cn/docs/node/dev-net"},next:{title:"\u5e38\u89c1\u95ee\u9898",permalink:"/zh-cn/docs/node/node-faq"}},i={},p=[],l={toc:p};function d(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"\u521b\u5efa\u4e00\u4e2a\u591a\u8282\u70b9\u672c\u5730\u6d4b\u8bd5\u7f51\u7edc"},"\u521b\u5efa\u4e00\u4e2a\u591a\u8282\u70b9\u672c\u5730\u6d4b\u8bd5\u7f51\u7edc"),(0,r.kt)("p",null,"\u5bf9\u4e8e\u66f4\u9ad8\u7ea7\u7684\u667a\u80fd\u5408\u7ea6\u8c03\u8bd5\u548c\u6d4b\u8bd5\uff0c\u66f4\u63a5\u8fd1\u771f\u5b9e\u7684\u7f51\u7edc\u73af\u5883\uff0c\u4f60\u53ef\u4ee5\u5efa\u7acb\u672c\u5730\u6d4b\u8bd5\u7f51\uff0c\u7531\u51e0\u4e2a\u4e92\u8fde\u7684\u8282\u70b9\u7ec4\u6210\u3002\u8fd9\u79cd\u6a21\u5f0f\u53ef\u4ee5\u770b\u5230\u591a\u8282\u70b9\u5171\u8bc6\u7b97\u6cd5\u7684\u8fd0\u884c\u60c5\u51b5\u3002"),(0,r.kt)("p",null,"\u8fd0\u884c\u5177\u6709\u4e24\u4e2a\u9a8c\u8bc1\u8282\u70b9\u7684\u672c\u5730\u6d4b\u8bd5\u7f51\uff0c\u5206\u522b\u4e3a Alice \u548c Bob\uff0c\u5b83\u4eec\u62e5\u6709",(0,r.kt)("inlineCode",{parentName:"p"},"local"),"\u6d4b\u8bd5\u7f51\u7684\u521d\u59cb\u6743\u9650\uff0c\u5e76\u88ab\u8d4b\u4e88\u6d4b\u8bd5\u7f51\u5355\u5143\uff0c\u66f4\u591a\u7ec6\u8282\u8bf7\u770b",(0,r.kt)("a",{parentName:"p",href:"https://github.com/gear-tech/gear/blob/master/node/src/chain_spec.rs"},"\u914d\u7f6e"),"\u3002"),(0,r.kt)("p",null,"\u6ce8\u610f\uff1a\u8fd9\u5c06\u9700\u8981\u4e24\u4e2a\u7ec8\u7aef (\u6bcf\u4e2a\u8282\u70b9\u4e00\u4e2a)\u3002"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u9996\u5148\u8fd0\u884c Alice \u8282\u70b9\u3002\u4e0b\u9762\u7684\u547d\u4ee4\u4f7f\u7528\u9ed8\u8ba4\u7684 TCP \u7aef\u53e3 (30333)\uff0c\u5e76\u6307\u5b9a",(0,r.kt)("inlineCode",{parentName:"p"},"/tmp/alice")," \u4f5c\u4e3a\u94fe\u6570\u636e\u5e93\u4f4d\u7f6e\u3002\nAlice \u7684\u8282\u70b9 ID \u662f",(0,r.kt)("inlineCode",{parentName:"p"},"12D3KooWEyoppNCUx8Yx66oV9fJnriXwCcXwDDUA2kj6vnc6iDEp"),"\uff08\u4f20\u7edf\u8868\u793a\u4e3a\uff1a",(0,r.kt)("inlineCode",{parentName:"p"},"QmRpheLN4JWdAnY7HGJfWFNbfkQCb6tFf4vA6hgjMZKrR"),"\uff09\uff1b\u8fd9\u7531 node-key \u51b3\u5b9a\u3002"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"./gear \\\n  --base-path /tmp/alice \\\n  --chain=local \\\n  --alice \\\n  --node-key 0000000000000000000000000000000000000000000000000000000000000001 \\\n  --telemetry-url 'ws://telemetry-backend-shard.gear-tech.io:32001/submit 0'\n")))),(0,r.kt)("p",null,"Alice \u8282\u70b9\u5c06\u5728 \u5757#0 \u4ee5\u7a7a\u95f2\u6a21\u5f0f\u8fd0\u884c\uff0c\u7b49\u5f85\u7b2c\u4e8c\u4e2a\u9a8c\u8bc1\u8282\u70b9\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'  Gear Node\n  \u270c\ufe0f version 0.1.0-6dc8d24edd9\n  \u2764\ufe0f by Gear Technologies, 2021-2022\n  \ud83d\udccb Chain specification: Gear Local Testnet\n  \ud83c\udff7 Node name: Alice\n  \ud83d\udc64 Role: AUTHORITY\n  \ud83d\udcbe Database: RocksDb at /tmp/alice/chains/gear_local_testnet/db/full\n  \u26d3 Native runtime: gear-610 (gear-1.tx1.au1)\n  \ud83d\udc76 Creating empty BABE epoch changes on what appears to be first startup.\n  Using default protocol ID "sup" because none is configured in the chain specs\n  \ud83c\udff7 Local node identity is: 12D3KooWEyoppNCUx8Yx66oV9fJnriXwCcXwDDUA2kj6vnc6iDEp\n  \ud83d\udcbb Operating system: macos\n  \ud83d\udcbb CPU architecture: aarch64\n  \ud83d\udce6 Highest known block at #0\n  \u303d\ufe0f Prometheus exporter started at 127.0.0.1:9615\n  Running JSON-RPC HTTP server: addr=127.0.0.1:9933, allowed origins=Some(["http://localhost:*", "http://127.0.0.1:*", "https://localhost:*", "https://127.0.0.1:*", "https://polkadot.js.org"])\n  Running JSON-RPC WS server: addr=127.0.0.1:9944, allowed origins=Some(["http://localhost:*", "http://127.0.0.1:*", "https://localhost:*", "https://127.0.0.1:*", "https://polkadot.js.org"])\n  \ud83c\udfc1 CPU score: 1020MB/s\n  \ud83c\udfc1 Memory score: 37732MB/s\n  \ud83c\udfc1 Disk score (seq. writes): 1496MB/s\n  \ud83c\udfc1 Disk score (rand. writes): 421MB/s\n  \ud83d\udc76 Starting BABE Authorship worker\n  \ud83d\udca4 Idle (0 peers), best: #0 (0x22c7\u20266847), finalized #0 (0x22c7\u20266847), \u2b07 0 \u2b06 0\n  \ud83d\udca4 Idle (0 peers), best: #0 (0x22c7\u20266847), finalized #0 (0x22c7\u20266847), \u2b07 0 \u2b06 0\n  \ud83d\udca4 Idle (0 peers), best: #0 (0x22c7\u20266847), finalized #0 (0x22c7\u20266847), \u2b07 0 \u2b06 0\n  \ud83d\udca4 Idle (0 peers), best: #0 (0x22c7\u20266847), finalized #0 (0x22c7\u20266847), \u2b07 0 \u2b06 0\n')),(0,r.kt)("p",null,"\u53e6\u5916\uff0c\u4f60\u53ef\u4ee5\u5728\u76d1\u6d4b\u7f51\u7ad9\uff08",(0,r.kt)("a",{parentName:"p",href:"https://telemetry.gear-tech.io%EF%BC%89%E7%9A%84"},"https://telemetry.gear-tech.io\uff09\u7684")," ",(0,r.kt)("strong",{parentName:"p"},"Gear Local Testnet")," \u6807\u7b7e\u4e0b\u627e\u5230 ",(0,r.kt)("inlineCode",{parentName:"p"},"Alice")," \u8282\u70b9\u540d\u79f0\u3002"),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"\u5728\u53e6\u4e00\u4e2a\u7ec8\u7aef\uff0c\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\uff0c\u5728\u4e0d\u540c\u7684 TCP \u7aef\u53e3\uff0830334\uff09\u4e0a\u542f\u52a8 Bob \u7684\u8282\u70b9\uff0c\u94fe\u6570\u636e\u5e93\u4f4d\u7f6e\u5728 ",(0,r.kt)("inlineCode",{parentName:"li"},"/tmp/bob"),"\u3002",(0,r.kt)("inlineCode",{parentName:"li"},"--bootnodes")," \u9009\u9879\u5c06\u4f7f Bob \u8282\u70b9\u4e0e Alice \u8282\u70b9\u5728 TCP ",(0,r.kt)("inlineCode",{parentName:"li"},"30333")," \u7aef\u53e3\u8fde\u63a5\u3002")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"  ./gear \\\n    --base-path /tmp/bob \\\n    --bootnodes /ip4/127.0.0.1/tcp/30333/p2p/12D3KooWEyoppNCUx8Yx66oV9fJnriXwCcXwDDUA2kj6vnc6iDEp \\\n    --chain=local \\\n    --bob \\\n    --port 30334 \\\n    --ws-port 9945 \\\n    --telemetry-url 'ws://telemetry-backend-shard.gear-tech.io:32001/submit 0'\n")),(0,r.kt)("p",null,"\u8fd0\u884c\u7b2c\u4e8c\u4e2a\u9a8c\u8bc1\u8005\u8282\u70b9\u540e\uff0c\u7f51\u7edc\u5f00\u59cb\u4ea7\u751f\u65b0\u7684\u533a\u5757\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'  Gear Node\n  \u270c\ufe0f version 0.1.0-6dc8d24edd9\n  \u2764\ufe0f by Gear Technologies, 2021-2022\n  \ud83d\udccb Chain specification: Gear Local Testnet\n  \ud83c\udff7 Node name: Bob\n  \ud83d\udc64 Role: AUTHORITY\n  \ud83d\udcbe Database: RocksDb at /tmp/bob/chains/gear_local_testnet/db/full\n  \u26d3 Native runtime: gear-610 (gear-1.tx1.au1)\n  \ud83d\udd28 Initializing Genesis block/state (state: 0xf470\u2026d2dc, header-hash: 0x22c7\u20266847)\n  \ud83d\udc74 Loading GRANDPA authority set from genesis on what appears to be first startup.\n  \ud83d\udc76 Creating empty BABE epoch changes on what appears to be first startup.\n  Using default protocol ID "sup" because none is configured in the chain specs\n  \ud83c\udff7 Local node identity is: 12D3KooWHpsf9Gp59ct6t6d1MmKHxbmZRvSWcUej7cUNmWNBdvZE\n  \ud83d\udcbb Operating system: macos\n  \ud83d\udcbb CPU architecture: aarch64\n  \ud83d\udce6 Highest known block at #0\n  Running JSON-RPC HTTP server: addr=127.0.0.1:61429, allowed origins=Some(["http://localhost:*", "http://127.0.0.1:*", "https://localhost:*", "https://127.0.0.1:*", "https://polkadot.js.org"])\n  Running JSON-RPC WS server: addr=127.0.0.1:9945, allowed origins=Some(["http://localhost:*", "http://127.0.0.1:*", "https://localhost:*", "https://127.0.0.1:*", "https://polkadot.js.org"])\n  \ud83c\udfc1 CPU score: 875MB/s\n  \ud83c\udfc1 Memory score: 38353MB/s\n  \ud83c\udfc1 Disk score (seq. writes): 1497MB/s\n  \ud83c\udfc1 Disk score (rand. writes): 421MB/s\n  \ud83d\udc76 Starting BABE Authorship worker\n  discovered: 12D3KooWEyoppNCUx8Yx66oV9fJnriXwCcXwDDUA2kj6vnc6iDEp /ip4/192.168.1.4/tcp/30333\n  discovered: 12D3KooWEyoppNCUx8Yx66oV9fJnriXwCcXwDDUA2kj6vnc6iDEp /ip6/::1/tcp/30333\n  discovered: 12D3KooWEyoppNCUx8Yx66oV9fJnriXwCcXwDDUA2kj6vnc6iDEp /ip4/127.0.0.1/tcp/30333\n  \ud83d\ude4c Starting consensus session on top of parent 0x22c70bb6baf611e5c9a6b1886b307dfa25cf1972b3400e70eb15d624c8b96847\n  \ud83c\udf81 Prepared block for proposing at 1 (0 ms) [hash: 0x1f55c4a9daf8c35d4388313ad67deec4ff5e472659e2fec310bd3032bcbdfe71; parent_hash: 0x22c7\u20266847; extrinsics (2): [0x8bbd\u20262a85, 0x7d5c\u20260b86]]\n  \ud83d\udd16 Pre-sealed block for proposal at 1. Hash now 0xe46f6031bb73710e239665d0da4212fbdcca77d57f9504d357c078f3b315389e, previously 0x1f55c4a9daf8c35d4388313ad67deec4ff5e472659e2fec310bd3032bcbdfe71.\n  \ud83d\udc76 New epoch 0 launching at block 0xe46f\u2026389e (block slot 1667197557 >= start slot 1667197557).\n  \ud83d\udc76 Next epoch starts at slot 1667198157\n  \u2728 Imported #1 (0xe46f\u2026389e)\n  \ud83d\ude4c Starting consensus session on top of parent 0xe46f6031bb73710e239665d0da4212fbdcca77d57f9504d357c078f3b315389e\n  \ud83c\udf81 Prepared block for proposing at 2 (0 ms) [hash: 0x66281c25f34157c713876cda6f39324a0da6a9a50c0c32310683bca875c1ab4c; parent_hash: 0xe46f\u2026389e; extrinsics (2): [0xcb81\u2026f7c3, 0x7d5c\u20260b86]]\n  \ud83d\udd16 Pre-sealed block for proposal at 2. Hash now 0x2ab179fe98969cab0970df085b86e03dbee33daed527f6595bcdbeffebc64175, previously 0x66281c25f34157c713876cda6f39324a0da6a9a50c0c32310683bca875c1ab4c.\n  \u2728 Imported #2 (0x2ab1\u20264175)\n  \ud83d\ude4c Starting consensus session on top of parent 0x2ab179fe98969cab0970df085b86e03dbee33daed527f6595bcdbeffebc64175\n  \ud83c\udf81 Prepared block for proposing at 3 (0 ms) [hash: 0xb5b9be01adb191671e0421f4673f8bee0751481aaac7ea453d806161e3b46dd7; parent_hash: 0x2ab1\u20264175; extrinsics (2): [0x7771\u2026de48, 0x7d5c\u20260b86]]\n  \ud83d\udd16 Pre-sealed block for proposal at 3. Hash now 0xf2ed128d41d96da623281745555a0fe00a033630aacf57ac02acc31ced267db0, previously 0xb5b9be01adb191671e0421f4673f8bee0751481aaac7ea453d806161e3b46dd7.\n  \u2728 Imported #3 (0xf2ed\u20267db0)\n')),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"\u7f51\u7edc\u5df2\u7ecf\u542f\u52a8\uff01\u5982\u679c\u60f3\u505c\u6b62\u7f51\u7edc\uff0c\u53ea\u9700\u5728\u4e24\u4e2a\u8fd0\u884c\u4f1a\u8bdd\u4e2d\u6309\u4e0b ",(0,r.kt)("kbd",null,"Ctrl")," + ",(0,r.kt)("kbd",null,"C"),"\u5373\u53ef\u3002")))}d.isMDXComponent=!0}}]);